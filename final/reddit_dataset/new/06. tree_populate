import json

path = r"C:\Users\HP\Desktop\datasets-cleaned\_crude\comments\_indexing.json"
path_turbo = r"C:\Users\HP\Desktop\datasets-cleaned\_crude\comments\_indexing-turbo.json"

with open(path, "r") as f:
    data = json.load(f)

with open(path_turbo, "r") as f:
    data_turbo = json.load(f)

def update_nested_dict(data, element, list_of_indices):
    current_level = data
    for index in list_of_indices[:-1]:
        if index not in current_level:
            current_level[index] = {}
        current_level = current_level[index]
    current_level[list_of_indices[-1]] = element

for sublist in data:
    try:
        indices = list(sublist[1])
        update_nested_dict(data_turbo, sublist, indices)
    except Exception as e:
        print(e)
        print(sublist)

# Save the updated data_turbo back to the file
with open(path_turbo, "w") as f:
    json.dump(data_turbo, f, indent=2)
