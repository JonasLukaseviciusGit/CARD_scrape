import os
import PyPDF2

def find_corrupted_pdfs(folder_path):
    corrupted_pdfs = []

    def is_pdf_valid(file_path):
        try:
            with open(file_path, 'rb') as file:
                pdf_reader = PyPDF2.PdfFileReader(file)
                _ = pdf_reader.getNumPages()
                return True
        except Exception as e:
            print(f"Error reading {file_path}: {e}")
            return False

    for filename in os.listdir(folder_path):
        if filename.endswith(".pdf"):
            file_path = os.path.join(folder_path, filename)
            if not is_pdf_valid(file_path):
                corrupted_pdfs.append(file_path)

    return corrupted_pdfs

# Specify the folder path where your PDFs are located
folder_path = r'C:\Users\HP\Desktop\articles'

# Call the function to find corrupted PDF files in the specified folder
corrupted_files = find_corrupted_pdfs(folder_path)

# Print the list of corrupted files
print("Corrupted PDFs:")
for file_path in corrupted_files:
    print(file_path)
