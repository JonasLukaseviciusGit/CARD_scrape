import json
import os
from tqdm import tqdm  # Import tqdm for progress tracking

folder_path = r"C:\Users\HP\Desktop\datasets-cleaned\_crude\submissions"
end_path = r"C:\Users\HP\Desktop\datasets-cleaned\_crude\submissions_filenames.json"

the_list = []

# Use tqdm to track the progress of file iteration
for filename in tqdm(os.listdir(folder_path), desc="Processing Files"):
    file_name_without_extension = os.path.splitext(filename)[0]

    with open(os.path.join(folder_path, filename), "r", encoding="utf-8") as f:
        data = json.load(f)

    _id = data["id"]
    the_list.append([_id])

# Save the_list to a JSON file
with open(end_path, "w", encoding="utf-8") as f:
    json.dump(the_list, f, ensure_ascii=False, indent=4)
